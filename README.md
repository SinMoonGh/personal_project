### 분석 배경

1. spot 용접

- 용접하고자 하는 재료를 전극 사이에 두고 가압하면서 전류를 통하면, 줄의 법칙에 의한 저항열이 발생한다. 이때 발생하는 저항열을 이용하여 접합부를 가열 융합하는 용접법.

2. 공정 개요

- 저항용접 발영량 = 0.24
- spot 용접을 할 때 필요한 요소는 용접 전류(I), 통전 시간(T), 가압력, 전극이다. 용접 전류는 주로 교류를 사용하고, 발열량이 I\*I에 비례하므로 전류 값은 용접 결과에 중요한 변수이며, 판 두께가 두꺼울 수록 전류 값은 커진다.
- 통전 시간은 너깃의 경을 제어하기 위해 통전시간으로 발열과 방열의 적절한 균형을 조절해야 한다.
- 열전도가 좋은 재료는 대전류 통전시간을 짧게 한다.
- 가압력이 크면 저항이 작아져서 유효발열량을 떨어지나 작아지면 접촉 저항 분포가 불균일하여 스파크가 발생하므로 조절이 필요하다.
- 전극의 촉부 면적은 전류밀도와 연관되어 용접 품질에 영향을 미치며, 냉각 여부도 용접 품질과 전극 마모율에 영향 변수이다.

### 문제 사항

- 용접 후 과한 용접 파임, 판의 들뜸, 용접 불균일, 용접 크랙 발생 등 용접 불량이 발생하고 있으며, 이에 따른 재작업으로 재료비 및 인건비 등 부가적인 비용 상승과 더불어 고객의 클레임 등 문제가 발생하고 있다.

### 분석 목표

1. 분석 목표 설정

- 용접 공정의 문제점을 데이터 분석을 통해 데이터 간의 상관관계를 찾고, 다양한 기계 학습 알고리즘을 통해 용접 공정 불량 원인 분석 및 생산 최적 조건 모델 개발하고, 현 수준 대비 30% 개선하는 것을 목표로 하고자 한다.

2. 데이터 정의

- idx(생산순번)
- Machine_Name(생산설비)
- Item No(생산품목)
- working time(작업시간)
- Thickness(소재두께) :용접하고자 하는 강판의 두께
- weld force(용접 가압력) : 용접 지점에서 가해지는 압력
- weld current(전류 세기) : 용접 지점에서 측정된 전류
- weld Voltage(전압 세기) : 용접 지점에서 측정된 전압
- weld time(통전 시간) : 전극에 용접전류를 통한 시간
- 종속 변수 - 불량여부.

3. 제조데이터 분석 기대 효과

- 불량품을 예측할 수 있는 모델 제공.

### 데이터 수집 방법

- 제조 분야 : 자동차 부품
- 제조 공정명 : 자동차 부품 용접
- 수집 장비 : PLC-MES Data & Mongo DB
- 수집 기간 : 2020/03/24 ~ 2020/04/07
- 수집 주기 : 약 8초 주기로 4지점에서의 센서 데이터 수집

### 데이터 유형

- scaled_data.csv와 new_scaled_data.csv는 1차 가공 데이터(welding_data.xlsx)에서 전처리 과정을 거쳐 용접기 데이터 특성 중에 생산품목, 작업시간, 소재 두께를 제거하고 용접가압력, 전류, 전압, 통전시간만 남겨둔 데이터이다.

### 데이터 품질 전처리

- 실제 공장에서 발생하는 데이터들은 값에 의미가 없거나 누락 및 오타가 발생하여 데이터 품질이 떨어진다. 따라서 데이터 품질 전처리는 데이터 분석에서 가장 중요한 단계이다. 데이터들의 5가지 품질 지수를 파악하고, 데이터 전처리를 통해 품질 지수를 향상한다.

### 데이터 품질 지수

1. 완전성 : 필수항목에 누락이 없어야 한다.

- 완전성 품질 지수 = ((1-결측치)/전체 데이터 수 ) \* 100

2. 유일성 : 데이터 항목은 유일해야 하며 중복되어 서는 안된다.

- 유일성 품질 지수 = ((1-중복데이터 수)/ 전체 데이터 수)\*100

3. 유효성 : 데이터 항목은 정해진 데이터 유효범위 및 도메인을 충족해야 한다.

- 데이터가 유효범위 내에 있는가? 데이터가 형식에 맞는가? 수집된 날짜 안에 들어가 있는가? 등을 검증하는 것.

4. 일관성 : 데이터가 지켜야 할 구조, 값, 표현되는 형태가 일관되게 정의되고, 서로 일치해야 한다.

- 일관성 품질 지수 = (일관성 만족 데이터 수 / 전체 데이터 수)\*100

5. 정확성 : 실제 존재하는 객체의 표현 값이 정확히 반영되어야 한다.

- 정확성 품질 지수 = (1-(정호가성 위배 데이터 수 / 전체 데이터 수))\*100

### 분석 모델

1. 제조 공장에 센서 설치
2. 센서 데이터 수집
3. 데이터 분석
4. 불량원인 탐지
5. 불량 요인 조정

### 인공지능 분석 모델

1. 비지도 학습 적용한 데이터 분석

- 이상 탐지는 불량품을 찾아내는 방법론으로 종종 사용되는 방법이지만 비용적인 부분으로 양품과 불량품 정보가 없어서 목표치가 없다. 따라서 목표치가 없어도 사용할 수 있는 비지도 학습을 적용한다.

### 오토인코더

- 오토인코더 : 데이터에 대한 목표치 없이도 입력데이터에 대해서 효율적인 데이터 표현 및 특성을 학습할 수 있는 비지도 학습 모델이다.
- 심층 신경망처럼 여러 신경망을 쌓아 만들 수 있고, 인코더 부분과 디코더 부분으로 이루어져 있음.

- 인코더 부분에서 데이터의 입력에 대한 차원 축소가 일어나며 이 부분에서 차원 축소를 하면서 데이터의 효율적인 표현들을 학습한다.
- 디코더 부분에서는 인코더가 축소한 데이터를 입력으로 받아 다시 원래 상태의 데이터로 복원시키는 기능이 있다.
- 오토인코더는 데이터 입력을 복제하는 과정이며 이의 부산물로 데이터에 대한 효율적인 특성들을 학습하게 되는 것이다.

### 유사 타 현장에서의 용접기 ai 데이터셋 분석 적용 방법

1. 분석이 적용 가능한 제조현장 소개

- 주로 자동차 부품 산업에 적용되며, 승용차 1대 조립 시 총용접 수 3,400 ~ 3,800개의 타점 중 98% 비중을 차지할 정도로 널리 사용되고 있음.

2. 용접기 ai 데이터셋 을 원용하여 타 제조현장 적용시 고려사항

- 데이터 수집 시 기존 시스템과의 인터페이스 방식을 고려해야 됨.
- 용접 후 검사 데이터 수집 시 불량 유형별 관라하는지 파악이 필요함. 대부분 검사를 맨 눈으로 하거나 일부 비전으로 하지만 이러한 데이터들과 용접 설비 조건 데이터와 매핑이 되지 않는 경우가 대부분이고, 이러한 경우엔 검사 자동화를 통해 검사를 자동 판정하고, 판정 결과를 공정 설비 조건과 매핑하여 상관관계를 정의하여야 한다고 함.

#### 중소벤처기업부, Korea AI Manufacturing Platform(KAMP), 용접기 AI 데이터셋, KAIST(울산과학기술원, ㈜이피엠솔루션즈), 2020.12.14., www.kamp-ai.kr
